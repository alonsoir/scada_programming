[![Python](https://img.shields.io/badge/Python-3.13+-blue.svg)](https://python.org)
[![Dash](https://img.shields.io/badge/Dash-3.0+-green.svg)](https://dash.plotly.com)
[![Modbus](https://img.shields.io/badge/Modbus-TCP-orange.svg)](https://pymodbus.readthedocs.io)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

# üöÄ Aerospace SCADA System

Un sistema SCADA (Supervisory Control and Data Acquisition) completo desarrollado en Python para monitoreo y control de sistemas aeroespaciales en tiempo real.

## üéØ Caracter√≠sticas Principales

- **üîß PLC Virtual**: Simulador de sistemas aeroespaciales con sensores de temperatura, presi√≥n y estados
- **üì° Comunicaci√≥n Modbus TCP**: Protocolo industrial est√°ndar para comunicaci√≥n en tiempo real
- **üåê HMI Web Moderno**: Interfaz gr√°fica accesible desde navegador con actualizaci√≥n autom√°tica
- **üìä Gr√°ficos en Tiempo Real**: Visualizaci√≥n de tendencias hist√≥ricas con Plotly
- **‚ö° Arquitectura As√≠ncrona**: Manejo eficiente de m√∫ltiples conexiones simult√°neas
- **üéõÔ∏è Monitor de Consola**: Interfaz de l√≠nea de comandos para debugging y monitoreo

## üìÅ Estructura del Proyecto

```
scada_programming/
‚îú‚îÄ‚îÄ README.md                   # Documentaci√≥n del proyecto
‚îú‚îÄ‚îÄ requirements.txt            # Dependencias Python
‚îú‚îÄ‚îÄ run_hmi.py                 # üåê Interfaz Web Principal
‚îú‚îÄ‚îÄ test_connection.py         # üìü Monitor de Consola
‚îú‚îÄ‚îÄ core/                      # üîß M√≥dulos Principales
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ protocols/             # üì° Protocolos de Comunicaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ modbus_client.py   # Cliente Modbus TCP
‚îÇ   ‚îú‚îÄ‚îÄ simulation/            # üéÆ Simuladores
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ virtual_plc.py     # PLC Virtual Aeroespacial
‚îÇ   ‚îî‚îÄ‚îÄ data/                  # üìÇ Modelos de Datos
‚îÇ       ‚îî‚îÄ‚îÄ __init__.py
‚îî‚îÄ‚îÄ tests/                     # üß™ Archivos de Prueba
    ‚îú‚îÄ‚îÄ simple_test.py         # Pruebas b√°sicas de pymodbus
    ‚îú‚îÄ‚îÄ minimal_test.py        # Test de imports
    ‚îú‚îÄ‚îÄ simple_plc.py          # PLC simplificado para debugging
    ‚îî‚îÄ‚îÄ debug_plc.py           # PLC con logging detallado
```

## üõ†Ô∏è Tecnolog√≠as Utilizadas

### Backend
- **Python 3.13+** - Lenguaje principal
- **pymodbus 3.5.4** - Protocolo Modbus TCP/IP
- **asyncio** - Programaci√≥n as√≠ncrona

### Frontend/HMI
- **Dash 3.0+** - Framework web reactivo
- **Plotly 6.1+** - Gr√°ficos interactivos
- **HTML5/CSS3** - Interfaz moderna

### Datos y An√°lisis
- **pandas** - Manipulaci√≥n de datos
- **numpy** - Computaci√≥n num√©rica

## üöÄ Instalaci√≥n R√°pida

### 1. Clonar el Repositorio
```bash
git clone https://github.com/tu-usuario/scada_programming.git
cd scada_programming
```

### 2. Crear Entorno Virtual
```bash
# Crear entorno virtual
python3 -m venv scada_env

# Activar entorno (macOS/Linux)
source scada_env/bin/activate

# Activar entorno (Windows)
scada_env\Scripts\activate
```

### 3. Instalar Dependencias
```bash
pip install -r requirements.txt
```

## üéÆ Uso del Sistema

### Iniciar el Sistema Completo

**Terminal 1 - PLC Virtual:**
```bash
python core/simulation/virtual_plc.py
```
```
üöÄ Iniciando PLC virtual...
üì° Presiona Ctrl+C para detener
INFO: Iniciando simulaci√≥n de sensores...
INFO: Server listening.
```

**Terminal 2 - Interfaz Web:**
```bash
python run_hmi.py
```
```
üöÄ AEROSPACE SCADA HMI
üåê Accede desde tu navegador: http://127.0.0.1:8050
üì° Conectando a PLC en 127.0.0.1:5020
```

**Navegador:**
```
http://127.0.0.1:8050
```

### Monitor de Consola (Opcional)

**Terminal 3 - Monitor:**
```bash
python test_connection.py
```
Selecciona:
- **Opci√≥n 1**: Prueba √∫nica de conexi√≥n
- **Opci√≥n 2**: Monitor continuo en tiempo real

## üéõÔ∏è Caracter√≠sticas del HMI Web

### Panel Principal
- **üü¢ Estado de Conexi√≥n**: Indicador visual del estado del PLC
- **üå°Ô∏è Temperaturas**: Motor 1, Motor 2, Cabina (¬∞C)
- **üîß Presiones**: Hidr√°ulica, Combustible, Aceite (bar)
- **üíß Estados de Sistemas**: Bombas, Emergencia, Sistema General

### Gr√°ficos en Tiempo Real
- **üìà Tendencias de Temperatura**: √öltimas 100 lecturas
- **üìä Tendencias de Presi√≥n**: Visualizaci√≥n hist√≥rica
- **üîÑ Actualizaci√≥n Autom√°tica**: Cada 2 segundos

### M√©tricas Operacionales
- **‚úàÔ∏è Horas de Vuelo**: Contador acumulativo
- **üîÑ Ciclos Totales**: Estad√≠sticas de operaci√≥n

## üéØ Valores Simulados

### Rangos de Temperaturas
- **Motor 1**: 20¬∞C - 150¬∞C
- **Motor 2**: 20¬∞C - 150¬∞C  
- **Cabina**: 18¬∞C - 30¬∞C

### Rangos de Presi√≥n
- **Hidr√°ulica**: 180-220 bar
- **Combustible**: 45-60 bar
- **Aceite**: 70-90 bar

### Estados Digitales
- **Bombas**: ON/OFF con cambios aleatorios
- **Emergencia**: Activaci√≥n rara (0.1% probabilidad)
- **Sistema**: Estado general del sistema

## üß™ Pruebas y Debugging

### Pruebas B√°sicas
```bash
# Verificar instalaci√≥n de pymodbus
python tests/minimal_test.py

# Probar comunicaci√≥n b√°sica
python tests/simple_test.py

# PLC simplificado para debugging
python tests/simple_plc.py
```

### Logs y Monitoring
El sistema incluye logging detallado:
- **Ciclos de simulaci√≥n** cada 10 iteraciones
- **Valores de sensores** con timestamps
- **Estados de conexi√≥n** y errores
- **Actualizaciones del datastore** Modbus

## üîß Configuraci√≥n Avanzada

### Puertos y Direcciones
```python
# PLC Virtual
PLC_HOST = '127.0.0.1'
PLC_PORT = 5020

# HMI Web
HMI_HOST = '127.0.0.1'
HMI_PORT = 8050
```

### Mapeo de Tags Modbus
```python
tag_map = {
    'engine_temp_1': {'address': 0, 'type': 'holding', 'scale': 0.1},
    'hydraulic_pressure': {'address': 10, 'type': 'holding', 'scale': 0.1},
    'pump_1_status': {'address': 20, 'type': 'coil'},
    # ... m√°s tags
}
```

## üöÄ Pr√≥ximos Pasos

### Funcionalidades Planeadas
- [ ] **Escritura de Variables**: Control bidireccional de actuadores
- [ ] **Sistema de Alarmas**: Alertas por valores fuera de rango
- [ ] **Base de Datos**: Almacenamiento hist√≥rico con InfluxDB
- [ ] **Autenticaci√≥n**: Login de usuarios y permisos
- [ ] **Configuraci√≥n Din√°mica**: Editor de tags en tiempo real
- [ ] **Reportes**: Generaci√≥n autom√°tica de informes
- [ ] **OPC-UA**: Soporte para protocolo OPC-UA
- [ ] **Docker**: Containerizaci√≥n del sistema completo

### Mejoras T√©cnicas
- [ ] **Tests Automatizados**: Suite completa de pruebas unitarias
- [ ] **CI/CD Pipeline**: Integraci√≥n y despliegue continuo
- [ ] **Documentaci√≥n API**: Swagger/OpenAPI
- [ ] **Performance**: Optimizaci√≥n para > 1000 tags
- [ ] **Redundancia**: Servidor de respaldo autom√°tico

## ü§ù Contribuci√≥n

### Desarrollo Local
1. Fork del repositorio
2. Crear rama feature: `git checkout -b feature/nueva-funcionalidad`
3. Commit cambios: `git commit -am 'A√±adir nueva funcionalidad'`
4. Push a la rama: `git push origin feature/nueva-funcionalidad`
5. Crear Pull Request

### Reporte de Bugs
Usa GitHub Issues con:
- Descripci√≥n detallada del problema
- Pasos para reproducir
- Logs relevantes
- Configuraci√≥n del sistema

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT - ver el archivo [LICENSE](LICENSE) para detalles.

## üìö Sobre Este Proyecto

Este proyecto fue desarrollado como parte de un proceso de aprendizaje integral sobre sistemas SCADA, desde los fundamentos hasta la implementaci√≥n pr√°ctica. El objetivo es demostrar todos los componentes necesarios para construir un sistema SCADA profesional desde cero.

### üéì Prop√≥sito Educativo

- **Aprender haciendo**: Implementaci√≥n pr√°ctica de conceptos te√≥ricos SCADA
- **Tecnolog√≠as reales**: Uso de protocolos industriales est√°ndar (Modbus TCP)
- **Arquitectura escalable**: Base s√≥lida para proyectos industriales reales
- **Mejores pr√°cticas**: C√≥digo limpio, documentaci√≥n y testing
- **Aplicaci√≥n aeroespacial**: Contexto realista para motivar el aprendizaje

## üë• Autores y Colaboradores

- **[Alonso Isidoro Rom√°n]** - *Desarrollador Principal* - [@alonsoir](https://github.com/alonsoir)
  - Implementaci√≥n del sistema completo
  - Arquitectura del proyecto
  - Testing y validaci√≥n

- **Claude (Anthropic)** - *Mentor T√©cnico y Arquitecto de Sistemas*
  - Dise√±o de la arquitectura SCADA
  - Gu√≠a en protocolos industriales y mejores pr√°cticas
  - Revisi√≥n de c√≥digo y optimizaciones
  - Documentaci√≥n t√©cnica y educativa

### ü§ù Metodolog√≠a de Desarrollo

Este proyecto sigui√≥ una metodolog√≠a de **pair programming educativo**:

1. **An√°lisis de requisitos**: Definici√≥n de un sistema SCADA realista
2. **Dise√±o arquitect√≥nico**: Estructura modular y escalable
3. **Desarrollo iterativo**: Implementaci√≥n paso a paso con explicaciones
4. **Testing continuo**: Validaci√≥n en cada etapa del desarrollo
5. **Documentaci√≥n**: C√≥digo autodocumentado y README completo

## üéØ Aprendizajes Clave

### Conceptos SCADA Cubiertos
- **Supervisi√≥n**: Monitoreo en tiempo real de procesos industriales
- **Control**: Interfaces para actuaci√≥n sobre sistemas f√≠sicos  
- **Adquisici√≥n de Datos**: Protocolos de comunicaci√≥n industrial
- **HMI**: Interfaces Humano-M√°quina modernas y responsivas

### Tecnolog√≠as Industriales
- **Modbus TCP/IP**: Protocolo de comunicaci√≥n industrial est√°ndar
- **PLCs Virtuales**: Simulaci√≥n de controladores l√≥gicos programables
- **Sistemas en Tiempo Real**: Manejo de datos cr√≠ticos con baja latencia
- **Arquitecturas Distribuidas**: Comunicaci√≥n cliente-servidor as√≠ncrona

## üôè Agradecimientos

- **Comunidad pymodbus** por el excelente protocolo Modbus Python
- **Equipo Plotly/Dash** por el framework web reactivo y accesible
- **Industria aeroespacial** por la inspiraci√≥n del dominio de aplicaci√≥n
- **Anthropic** por crear herramientas de IA que facilitan el aprendizaje t√©cnico
- **Comunidad open source** por las librer√≠as que hacen posible este proyecto

### üéì Para Estudiantes y Educadores

Este proyecto sirve como:
- **üìñ Tutorial completo** de sistemas SCADA desde cero
- **üîß Ejemplo pr√°ctico** de arquitectura industrial
- **üí° Base de conocimiento** para proyectos m√°s avanzados
- **üèóÔ∏è Plantilla** para sistemas SCADA personalizados

**¬øQuieres aprender SCADA?** Este proyecto te llevar√° desde los conceptos b√°sicos hasta una implementaci√≥n funcional completa.

---

**‚≠ê Si este proyecto te ayuda, ¬°dale una estrella en GitHub!**

## üìû Soporte

¬øNecesitas ayuda? 
- üìß Email: alonsoir@gmail.com
- üí¨ Issues: [GitHub Issues](https://github.com/alonsoir/scada_programming/issues)
- üìö Wiki: [Documentaci√≥n Completa](https://github.com/alonsoir/scada_programming/wiki)